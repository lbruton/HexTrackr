{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "HexTrackr Device Naming Pattern Configuration",
  "description": "Configuration for parsing device hostnames and extracting site/location information",
  "version": "1.0.0",
  
  "deviceTypePatterns": [
    {
      "pattern": "nswan",
      "description": "Switch (WAN)",
      "type": "switch",
      "vendor": "CISCO",
      "precedence": 1
    },
    {
      "pattern": "swan",
      "description": "Switch",
      "type": "switch",
      "vendor": "CISCO",
      "precedence": 2
    },
    {
      "pattern": "nrwan",
      "description": "Router (WAN)",
      "type": "router",
      "vendor": "CISCO",
      "precedence": 3
    },
    {
      "pattern": "rtr",
      "description": "Router",
      "type": "router",
      "vendor": "CISCO",
      "precedence": 4
    },
    {
      "pattern": "nfpan",
      "description": "Palo Alto Firewall",
      "type": "firewall",
      "vendor": "Palo Alto",
      "precedence": 5
    },
    {
      "pattern": "fw",
      "description": "Firewall",
      "type": "firewall",
      "vendor": "CISCO",
      "precedence": 6
    },
    {
      "pattern": "asa",
      "description": "Cisco ASA Firewall",
      "type": "firewall",
      "vendor": "CISCO",
      "precedence": 7
    },
    {
      "pattern": "sw",
      "description": "Switch (Generic)",
      "type": "switch",
      "vendor": "CISCO",
      "precedence": 8
    },
    {
      "pattern": "newan",
      "description": "Edge Device",
      "type": "edge",
      "vendor": "CISCO",
      "precedence": 9
    }
  ],

  "vendorKeywords": {
    "CISCO": ["cisco"],
    "Palo Alto": ["pan", "palo", "paloalto"]
  },
  
  "locationPatterns": {
    "description": "Patterns for extracting location from hostname",
    "strategy": "device_type_prefix",
    "comment": "Location is everything BEFORE the device type pattern"
  },
  
  "siteCodeMappings": {
    "description": "Map extracted locations to known 4-character site codes (Hexagon EAM)",
    "comment": "Key = location string, Value = {site_code, confidence, aliases}",
    "mappings": [
      {
        "location": "tulsatower",
        "site_code": "TULS",
        "aliases": ["tulsa", "tulsatwr", "tulstower"],
        "confidence": 0.95,
        "source": "manual_config"
      },
      {
        "location": "stroud",
        "site_code": "STRO",
        "aliases": ["strd", "strou", "stroud"],
        "confidence": 0.95,
        "source": "manual_config"
      },
      {
        "location": "okc",
        "site_code": "OKCY",
        "aliases": ["oklahoma", "okcity", "oklahomacity"],
        "confidence": 0.90,
        "source": "manual_config"
      }
    ]
  },
  
  "fallbackRules": {
    "site_code_length": 4,
    "location_code_length": 5,
    "comment": "If regex parsing fails, fall back to substring extraction"
  },
  
  "fuzzyMatchSettings": {
    "enabled": true,
    "min_similarity": 0.6,
    "max_results": 5,
    "comment": "When user types site/location, fuzzy search existing codes"
  }
}
