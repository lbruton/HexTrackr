# HexTrackr Environment Configuration
# Copy this file to .env and configure as needed

# ==============================================================================
# OPTIONAL: AI-Powered Testing with Stagehand
# ==============================================================================
# Uncomment and configure these if you want to use AI features in Stagehand tests
# Note: Stagehand works locally without these, but AI features require API keys

# OpenAI API Key for AI-powered browser automation
# Get from: https://platform.openai.com/account/api-keys
# OPENAI_API_KEY=your_openai_api_key_here

# Browserbase API Key (for cloud browser sessions - optional)
# Get from: https://www.browserbase.com/
# BROWSERBASE_API_KEY=your_browserbase_api_key_here
# BROWSERBASE_PROJECT_ID=your_project_id_here

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================
# Port for the application (default: 8080)
# PORT=8080

# Database file location (default: app/public/data/hextrackr.db)
# DATABASE_PATH=app/public/data/hextrackr.db

# Maximum file upload size in MB (default: 100)
# MAX_FILE_SIZE_MB=100

# ==============================================================================
# DEVELOPMENT SETTINGS
# ==============================================================================
# Enable debug logging (default: false)
# DEBUG=true

# Node environment (development, production)
# NODE_ENV=development

# ==============================================================================
# AUTHENTICATION (HEX-133: v1.0.46 Session-Based Authentication)
# ==============================================================================
# Session secret for express-session (generate with: openssl rand -hex 32)
# SECURITY: REQUIRED - Must be at least 32 characters
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# SESSION_SECRET=<replace-with-32-byte-hex-string>

# HTTPS REQUIREMENT (CRITICAL):
# Session cookies are configured with secure: true, which REQUIRES HTTPS.
# Without HTTPS, browsers will reject session cookies and login will fail.
#
# PRODUCTION: Always use HTTPS (nginx reverse proxy handles SSL/TLS)
# DEVELOPMENT: Use Docker nginx reverse proxy on localhost:443
#   - Certificate: Self-signed cert in ./certs/ directory
#   - Access: https://localhost or https://dev.hextrackr.com
#   - Browser warning: Type 'thisisunsafe' to bypass self-signed cert warning
#
# NEVER run authentication without HTTPS in production!

# Node environment (development, production)
# NODE_ENV=production

# Trust proxy when behind nginx reverse proxy (true in production)
# TRUST_PROXY=true

# ==============================================================================
# REVERSE PROXY SETTINGS
# ==============================================================================
# Enable trust proxy when running behind nginx or other reverse proxy
# IMPORTANT: Only enable if behind nginx/reverse proxy (e.g., production)
# - Set to 'true' in production with nginx reverse proxy
# - Leave unset or 'false' for direct Docker access (e.g., development)
# Default: false (disabled for security)
#
# PERFORMANCE IMPACT (v1.0.36):
# When TRUST_PROXY=true, Express compression is automatically disabled to avoid
# double compression overhead (Express + nginx). This significantly improves
# response times for large JSON payloads by eliminating redundant CPU work.
# - Production (nginx): Set to 'true' - nginx handles compression
# - Development (direct): Leave 'false' - Express handles compression
# TRUST_PROXY=false