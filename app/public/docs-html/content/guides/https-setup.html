<!-- Fragment template for documentation content injected by docs-tabler.js -->
<section class="doc-fragment">
    <h1>HTTPS Setup Guide</h1><blockquote>
<p>Complete guide for configuring HTTPS support in HexTrackr across different platforms</p>
</blockquote>
<h2>Overview</h2><p>HexTrackr v1.0.33+ includes built-in HTTPS support for secure deployment and authentication. This guide covers platform-specific setup for self-signed certificates and production HTTPS configuration.</p>
<h3>When You Need HTTPS</h3><ul>
<li><strong>Authentication</strong>: Required for secure session cookies and login functionality</li>
<li><strong>Production Deployment</strong>: Essential for any internet-facing deployment</li>
<li><strong>Secure API Access</strong>: When integrating with external systems</li>
<li><strong>Development Testing</strong>: Testing authentication features locally</li>
</ul>
<hr>
<h2>Quick Start</h2><h3>Option 1: Automated Setup (Recommended)</h3><p>Use the included installation script with HTTPS option:</p>
<pre><code class="language-bash"><span class="hljs-comment"># During installation, choose HTTPS when prompted</span>
./install.sh

<span class="hljs-comment"># Or run the SSL setup script directly</span>
./scripts/setup-ssl.sh</code></pre><h3>Option 2: Manual Setup</h3><p>Follow the platform-specific instructions below for manual certificate generation and configuration.</p>
<hr>
<h2>Platform-Specific Setup</h2><h3>macOS Development</h3><h4>Prerequisites</h4><ul>
<li>OpenSSL (included with macOS)</li>
<li>Docker and Docker Compose</li>
<li>Terminal access</li>
</ul>
<h4>Steps</h4><ol>
<li><p><strong>Generate Self-Signed Certificate</strong></p>
<pre><code class="language-bash"><span class="hljs-comment"># Create certificates directory</span>
<span class="hljs-built_in">mkdir</span> -p certs

<span class="hljs-comment"># Generate 10-year certificate for localhost</span>
openssl req -x509 -newkey rsa:4096 \
  -keyout certs/key.pem \
  -out certs/cert.pem \
  -days 3650 \
  -nodes \
  -subj <span class="hljs-string">&quot;/C=US/ST=State/L=City/O=HexTrackr/CN=localhost&quot;</span>

<span class="hljs-comment"># Set proper permissions</span>
<span class="hljs-built_in">chmod</span> 600 certs/key.pem
<span class="hljs-built_in">chmod</span> 644 certs/cert.pem</code></pre></li>
<li><p><strong>Configure Environment</strong></p>
<p>Update your <code>.env</code> file:</p>
<pre><code class="language-bash"><span class="hljs-comment"># HTTPS Configuration</span>
USE_HTTPS=<span class="hljs-literal">true</span>
SSL_KEY_PATH=./certs/key.pem
SSL_CERT_PATH=./certs/cert.pem</code></pre></li>
<li><p><strong>Start with HTTPS</strong></p>
<pre><code class="language-bash"><span class="hljs-comment"># Local development</span>
npm run dev

<span class="hljs-comment"># Or with Docker</span>
docker-compose up</code></pre></li>
<li><p><strong>Access Application</strong></p>
<ul>
<li>HTTPS: <code>https://localhost:8080</code> (local) or <code>https://localhost:8989</code> (Docker)</li>
<li>Accept the browser security warning for self-signed certificates</li>
</ul>
</li>
</ol>
<h3>Ubuntu/Linux Production</h3><h4>Prerequisites</h4><ul>
<li>OpenSSL</li>
<li>Docker and Docker Compose</li>
<li>sudo access</li>
</ul>
<h4>Steps</h4><ol>
<li><p><strong>Install OpenSSL</strong> (if not installed)</p>
<pre><code class="language-bash"><span class="hljs-built_in">sudo</span> apt update
<span class="hljs-built_in">sudo</span> apt install openssl</code></pre></li>
<li><p><strong>Generate Certificate</strong></p>
<pre><code class="language-bash"><span class="hljs-comment"># Create certificates directory</span>
<span class="hljs-built_in">mkdir</span> -p certs

<span class="hljs-comment"># Generate certificate with your domain/IP</span>
openssl req -x509 -newkey rsa:4096 \
  -keyout certs/key.pem \
  -out certs/cert.pem \
  -days 3650 \
  -nodes \
  -subj <span class="hljs-string">&quot;/C=US/ST=State/L=City/O=HexTrackr/CN=your-domain.com&quot;</span>

<span class="hljs-comment"># Set secure permissions</span>
<span class="hljs-built_in">chmod</span> 600 certs/key.pem
<span class="hljs-built_in">chmod</span> 644 certs/cert.pem
<span class="hljs-built_in">chown</span> root:root certs/*</code></pre></li>
<li><p><strong>Configure Firewall</strong></p>
<pre><code class="language-bash"><span class="hljs-comment"># Allow HTTPS traffic</span>
<span class="hljs-built_in">sudo</span> ufw allow 443/tcp
<span class="hljs-built_in">sudo</span> ufw allow 8989/tcp  <span class="hljs-comment"># For Docker external port</span></code></pre></li>
<li><p><strong>Production Environment</strong></p>
<p>Create <code>.env.production</code>:</p>
<pre><code class="language-bash">NODE_ENV=production
USE_HTTPS=<span class="hljs-literal">true</span>
PORT=443
SSL_KEY_PATH=/app/certs/key.pem
SSL_CERT_PATH=/app/certs/cert.pem</code></pre></li>
</ol>
<h3>Windows Development</h3><h4>Prerequisites</h4><ul>
<li>OpenSSL for Windows or Git Bash</li>
<li>Docker Desktop</li>
<li>PowerShell or Command Prompt</li>
</ul>
<h4>Steps</h4><ol>
<li><p><strong>Generate Certificate</strong> (using Git Bash or OpenSSL)</p>
<pre><code class="language-bash"><span class="hljs-comment"># In Git Bash or with OpenSSL installed</span>
<span class="hljs-built_in">mkdir</span> certs

openssl req -x509 -newkey rsa:4096 \
  -keyout certs/key.pem \
  -out certs/cert.pem \
  -days 3650 \
  -nodes \
  -subj <span class="hljs-string">&quot;/C=US/ST=State/L=City/O=HexTrackr/CN=localhost&quot;</span></code></pre></li>
<li><p><strong>Configure Environment</strong></p>
<p>Update <code>.env</code> file:</p>
<pre><code class="language-">USE_HTTPS=true
SSL_KEY_PATH=./certs/key.pem
SSL_CERT_PATH=./certs/cert.pem</code></pre></li>
<li><p><strong>Start Application</strong></p>
<pre><code class="language-cmd"># Using npm
npm run dev

# Using Docker
docker-compose up</code></pre></li>
</ol>
<hr>
<h2>Production HTTPS with Let's Encrypt</h2><p>For production deployments, replace self-signed certificates with Let&#39;s Encrypt:</p>
<h3>Using Certbot</h3><ol>
<li><p><strong>Install Certbot</strong></p>
<pre><code class="language-bash"><span class="hljs-built_in">sudo</span> apt install certbot</code></pre></li>
<li><p><strong>Generate Certificate</strong></p>
<pre><code class="language-bash"><span class="hljs-built_in">sudo</span> certbot certonly --standalone -d your-domain.com</code></pre></li>
<li><p><strong>Update Configuration</strong></p>
<pre><code class="language-bash"><span class="hljs-comment"># Update .env for production</span>
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem</code></pre></li>
<li><p><strong>Setup Auto-Renewal</strong></p>
<pre><code class="language-bash"><span class="hljs-built_in">sudo</span> crontab -e
<span class="hljs-comment"># Add: 0 12 * * * /usr/bin/certbot renew --quiet</span></code></pre></li>
</ol>
<h3>Using Reverse Proxy (Nginx)</h3><p>For production, consider using Nginx for SSL termination:</p>
<pre><code class="language-nginx"><span class="hljs-section">server</span> {
    <span class="hljs-attribute">listen</span> <span class="hljs-number">443</span> ssl;
    <span class="hljs-attribute">server_name</span> your-domain.com;

    <span class="hljs-attribute">ssl_certificate</span> /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    <span class="hljs-attribute">ssl_certificate_key</span> /etc/letsencrypt/live/your-domain.com/privkey.pem;

    <span class="hljs-comment"># Increase upload limit for large CSV imports (Tenable, etc.)</span>
    <span class="hljs-attribute">client_max_body_size</span> <span class="hljs-number">100M</span>;

    <span class="hljs-section">location</span> / {
        <span class="hljs-attribute">proxy_pass</span> http://localhost:8080;
        <span class="hljs-attribute">proxy_set_header</span> Host <span class="hljs-variable">$host</span>;
        <span class="hljs-attribute">proxy_set_header</span> X-Real-IP <span class="hljs-variable">$remote_addr</span>;
        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;
        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-Proto <span class="hljs-variable">$scheme</span>;
    }
}</code></pre><blockquote>
<p><strong>Production Note</strong>: The default nginx upload limit is 1MB. For vulnerability CSV imports (especially large Tenable scans), increase <code>client_max_body_size</code> to 100MB or higher. The Express backend supports files up to 100MB via Multer configuration.</p>
</blockquote>
<hr>
<h2>Configuration Reference</h2><h3>Environment Variables</h3><table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>USE_HTTPS</code></td>
<td>Enable HTTPS mode</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>SSL_KEY_PATH</code></td>
<td>Path to private key</td>
<td><code>./certs/key.pem</code></td>
</tr>
<tr>
<td><code>SSL_CERT_PATH</code></td>
<td>Path to certificate</td>
<td><code>./certs/cert.pem</code></td>
</tr>
<tr>
<td><code>PORT</code></td>
<td>Server port</td>
<td><code>8080</code></td>
</tr>
</tbody></table>
<h3>Docker Configuration</h3><p>For HTTPS with Docker, ensure your <code>docker-compose.yml</code> includes:</p>
<pre><code class="language-yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">hextrackr:</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;8989:8080&quot;</span>     <span class="hljs-comment"># HTTP</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;8443:8443&quot;</span>     <span class="hljs-comment"># HTTPS</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./certs:/app/certs:ro</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">USE_HTTPS=true</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">SSL_KEY_PATH=/app/certs/key.pem</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">SSL_CERT_PATH=/app/certs/cert.pem</span></code></pre><hr>
<h2>Troubleshooting</h2><h3>Common Issues</h3><h4>Certificate Errors</h4><p><strong>Problem</strong>: &quot;Certificate not found&quot; error</p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-bash"><span class="hljs-comment"># Verify certificate files exist</span>
<span class="hljs-built_in">ls</span> -la certs/
<span class="hljs-comment"># Regenerate if missing</span>
./scripts/setup-ssl.sh</code></pre><h4>Permission Errors</h4><p><strong>Problem</strong>: &quot;Permission denied&quot; on certificate files</p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-bash"><span class="hljs-comment"># Fix permissions</span>
<span class="hljs-built_in">chmod</span> 600 certs/key.pem
<span class="hljs-built_in">chmod</span> 644 certs/cert.pem</code></pre><h4>Browser Warnings</h4><p><strong>Problem</strong>: &quot;Your connection is not private&quot; warning</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Click &quot;Advanced&quot; → &quot;Proceed to localhost (unsafe)&quot;</li>
<li>This is expected for self-signed certificates</li>
<li>For production, use proper SSL certificates</li>
</ul>
<h4>Port Conflicts</h4><p><strong>Problem</strong>: &quot;Port already in use&quot; error</p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-bash"><span class="hljs-comment"># Check what&#x27;s using the port</span>
<span class="hljs-built_in">sudo</span> lsof -i :443
<span class="hljs-comment"># Stop conflicting service or change port</span></code></pre><h3>Testing HTTPS Setup</h3><ol>
<li><p><strong>Verify Certificate</strong></p>
<pre><code class="language-bash">openssl x509 -<span class="hljs-keyword">in</span> certs/cert.pem -text -noout</code></pre></li>
<li><p><strong>Test Connection</strong></p>
<pre><code class="language-bash">curl -k https://localhost:8080/health</code></pre></li>
<li><p><strong>Check Browser Console</strong></p>
<ul>
<li>No mixed content errors</li>
<li>Secure cookie warnings resolved</li>
<li>WebSocket upgrades to WSS</li>
</ul>
</li>
</ol>
<h3>Getting Help</h3><p>If you encounter issues:</p>
<ol>
<li>Check the <a href="#reference/troubleshooting">troubleshooting guide</a></li>
<li>Review Docker logs: <code>docker-compose logs</code></li>
<li>Verify environment configuration in <code>.env</code></li>
<li>Ensure firewall allows HTTPS traffic</li>
</ol>
<hr>
<h2>Security Considerations</h2><h3>Self-Signed Certificates</h3><ul>
<li>✅ <strong>Good for</strong>: Development, testing, internal networks</li>
<li>❌ <strong>Not for</strong>: Public production deployments</li>
<li>⚠️ <strong>Note</strong>: Browsers will show security warnings</li>
</ul>
<h3>Production Certificates</h3><ul>
<li>✅ Use Let&#39;s Encrypt for free SSL certificates</li>
<li>✅ Implement proper certificate renewal</li>
<li>✅ Use strong cipher suites</li>
<li>✅ Enable HSTS headers</li>
</ul>
<h3>Best Practices</h3><ol>
<li><strong>Never commit certificates to version control</strong></li>
<li><strong>Use environment variables for paths</strong></li>
<li><strong>Set proper file permissions (600 for keys)</strong></li>
<li><strong>Regularly rotate certificates</strong></li>
<li><strong>Monitor certificate expiration</strong></li>
</ol>
<hr>
<p><em>For more security information, see the <a href="#security/overview">Security Guide</a></em></p>

    <!-- Note: This file is intentionally minimal. The full page scaffold, header, footer, and scripts
             are provided by docs-html/index.html. Content generated using this template will be
             fetched and injected into #content-container by docs-html/js/docs-portal-v2.js. -->
</section>
