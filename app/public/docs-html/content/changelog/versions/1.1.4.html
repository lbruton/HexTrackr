<!-- Fragment template for documentation content injected by docs-tabler.js -->
<section class="doc-fragment">
    <h1>Version 1.1.4</h1><p><strong>Release Date:</strong> October 23, 2025<br><strong>Issue:</strong> <a href="https://linear.app/hextrackr/issue/HEX-340">HEX-340</a></p>
<h2>Overview</h2><p>Major Node.js runtime upgrade from v18 LTS to v22 LTS, improving performance, security, and long-term support through April 2027.</p>
<h2>Infrastructure Upgrades</h2><h3>Node.js 22 LTS Migration</h3><ul>
<li><strong>Upgraded Node.js</strong>: v18.20.8 → v22.21.0</li>
<li><strong>Extended Support</strong>: LTS support through April 2027 (vs April 2025 for v18)</li>
<li><strong>Container Image</strong>: Updated from <code>node:18-alpine</code> to <code>node:22-alpine</code></li>
<li><strong>Performance</strong>: Improved V8 JavaScript engine with better JIT compilation</li>
<li><strong>Security</strong>: Latest security patches and vulnerability fixes</li>
</ul>
<h3>Build System Improvements</h3><ul>
<li><strong>Native Module Compilation</strong>: Fixed Docker multi-stage build to properly rebuild native modules in production environment</li>
<li><strong>Python 3.12 Compatibility</strong>: Added <code>py3-setuptools</code> to provide distutils for node-gyp compilation</li>
<li><strong>Better-sqlite3</strong>: Upgraded to v12.4.1 for improved Node.js 22 compatibility</li>
<li><strong>Build Isolation</strong>: Ensured native modules (<code>better-sqlite3</code>, <code>argon2</code>) compile with correct V8 ABI version</li>
</ul>
<h2>Bug Fixes</h2><h3>Database Service</h3><ul>
<li><strong>Fixed</strong>: Typo in <code>databaseService.js:863</code> causing runtime error (<code>this.this._audit</code> → <code>this._audit</code>)</li>
<li><strong>Impact</strong>: VACUUM operations now properly audit log without crashes</li>
</ul>
<h3>Authentication System</h3><ul>
<li><strong>Fixed</strong>: Missing security columns in users table preventing login</li>
<li><strong>Added Columns</strong>: <code>failed_attempts</code>, <code>locked_until</code>, <code>last_login</code>, <code>failed_login_timestamp</code></li>
<li><strong>Password Hash</strong>: Regenerated admin password hash for argon2 v0.31.2 compatibility</li>
</ul>
<h2>Documentation Improvements</h2><ul>
<li><strong>Content</strong>: Fixed inaccurate chart types in <code>architecture/frontend.md</code> - removed non-existent donut/bar/histogram charts, clarified only line charts are implemented (<a href="https://linear.app/hextrackr/issue/DOCS-134">DOCS-134</a>)</li>
<li><strong>Content</strong>: Fixed incorrect AG-Grid version in <code>architecture/technology-stack.md</code> - corrected from 33.3.2 to actual production version 32.2 (<a href="https://linear.app/hextrackr/issue/DOCS-135">DOCS-135</a>)</li>
<li><strong>Content</strong>: Fixed inaccurate chart types in <code>api-reference/frontend-api.md</code> - removed non-existent donut/bar/heatmap charts, clarified only temporal line charts are implemented (<a href="https://linear.app/hextrackr/issue/DOCS-136">DOCS-136</a>)</li>
<li><strong>Content</strong>: Fixed incorrect CSS variable name in <code>api-reference/frontend-api.md</code> - corrected <code>--hextrackr-surface-base</code> to <code>--hextrackr-surface-0</code> and updated color values to match actual implementation in <code>css-variables.css</code> (<a href="https://linear.app/hextrackr/issue/DOCS-137">DOCS-137</a>)</li>
<li><strong>Content</strong>: Fixed imprecise ApexCharts version in <code>architecture/technology-stack.md</code> - corrected from &quot;3.x&quot; to &quot;3.44.0&quot; to match deployed production version (<a href="https://linear.app/hextrackr/issue/DOCS-138">DOCS-138</a>)</li>
<li><strong>Content</strong>: Fixed outdated frontend module count in <code>architecture/technology-stack.md</code> - corrected from &quot;32 specialized modules&quot; to &quot;50+ specialized modules&quot; to reflect actual count (41 shared + 3 pages + 7 utils = 51 modules) (<a href="https://linear.app/hextrackr/issue/DOCS-139">DOCS-139</a>)</li>
<li><strong>Content</strong>: Fixed incorrect default view claim in <code>guides/user-guide.md</code> - moved &quot;(Default)&quot; designation from Table View to Devices View to match actual production behavior where Devices View loads by default for performance optimization (<a href="https://linear.app/hextrackr/issue/DOCS-140">DOCS-140</a>)</li>
<li><strong>Automation</strong>: Fixed outdated generation timestamp in <code>api-reference/index.md</code> - automated timestamp updates during documentation generation to prevent recurring staleness (was Sept 18, now auto-updates with each build) (<a href="https://linear.app/hextrackr/issue/DOCS-141">DOCS-141</a>)</li>
<li><strong>JSDoc</strong>: Fixed documentation for <code>extractVendorFromFilename</code> in <code>app/services/importService.js</code> - added complete @param, @returns, @throws, and @example tags with detailed vendor pattern documentation (<a href="https://linear.app/hextrackr/issue/DOCS-142">DOCS-142</a>)</li>
<li><strong>Content</strong>: Fixed incomplete ERD diagram in <code>architecture/database.md</code> - added missing tables (audit_logs, audit_log_config, cisco_fixed_versions) to Mermaid diagram, bringing total from 19 to 21 tables matching v1.1.0 schema (<a href="https://linear.app/hextrackr/issue/DOCS-143">DOCS-143</a>)</li>
<li><strong>JSDoc</strong>: Fixed documentation for <code>_audit</code> helper in <code>app/services/vulnerabilityService.js</code> - added complete @param, @returns, @throws, and @example tags documenting defensive audit logging pattern (<a href="https://linear.app/hextrackr/issue/DOCS-145">DOCS-145</a>)</li>
<li><strong>Content</strong>: Fixed misleading plural &quot;Chart Types&quot; heading in <code>architecture/frontend.md</code> - corrected to singular &quot;Chart Type&quot; to match reality (only line charts implemented, verified via codebase search showing <code>type: &quot;line&quot;</code> at vulnerability-chart-manager.js:221) (<a href="https://linear.app/hextrackr/issue/DOCS-144">DOCS-144</a>)</li>
<li><strong>JSDoc</strong>: Fixed documentation for <code>shouldBypassCache</code> helper in <code>app/controllers/vulnerabilityController.js</code> - added complete @param, @returns, and @example tags documenting two cache-busting mechanisms (_t timestamp and bustCache flag) (<a href="https://linear.app/hextrackr/issue/DOCS-147">DOCS-147</a>)</li>
<li><strong>JSDoc</strong>: Fixed documentation for <code>sendBypassResponse</code> helper in <code>app/controllers/vulnerabilityController.js</code> - added complete @param, @returns, @throws, and @example tags documenting cache bypass header strategy and dual cache-busting pattern (<a href="https://linear.app/hextrackr/issue/DOCS-148">DOCS-148</a>)</li>
<li><strong>Content</strong>: Fixed incomplete Socket.io port architecture in <code>architecture/technology-stack.md</code> - added nginx reverse proxy layer documentation clarifying standard access via port 443 (HTTPS) vs direct container access on port 8989, including WebSocket proxying details (<a href="https://linear.app/hextrackr/issue/DOCS-146">DOCS-146</a>)</li>
<li><strong>Content</strong>: Fixed incomplete Argon2id configuration documentation in <code>reference/security.md</code> - added missing admin seeding configuration (19 MiB / 2 iterations / 1 thread) alongside production authentication configuration (64 MiB / 3 iterations / 4 threads) with context explaining different use cases (<a href="https://linear.app/hextrackr/issue/DOCS-149">DOCS-149</a>)</li>
<li><strong>Content</strong>: Fixed outdated version reference in <code>api-reference/backend-api.md</code> - corrected version header from v1.1.3 to v1.1.4 to match current production version (<a href="https://linear.app/hextrackr/issue/DOCS-151">DOCS-151</a>)</li>
<li><strong>Content</strong>: Removed outdated snapshot statistics from <code>guides/cisco-psirt-integration.md</code> - removed v1.0.63 test data section (126 CVEs, 82 advisories, 86.6% fix rate) and generalized all hardcoded references to deployment-agnostic guidance to prevent misleading capacity planning (<a href="https://linear.app/hextrackr/issue/DOCS-152">DOCS-152</a>)</li>
<li><strong>Content</strong>: Fixed missing <code>locationService.js</code> in <code>architecture/backend.md</code> Service Files table - added row documenting location-based vulnerability aggregation service added in v1.0.80 (HEX-292), bringing documented service count from 19 to 20 to match Module Organization claim (<a href="https://linear.app/hextrackr/issue/DOCS-154">DOCS-154</a>)</li>
</ul>
<h2>Technical Details</h2><h3>Dockerfile Changes</h3><pre><code class="language-dockerfile"><span class="hljs-comment"># Production stage now rebuilds native modules</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> apk add --no-cache sqlite python3 py3-setuptools make g++</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> npm rebuild better-sqlite3 argon2</span></code></pre><h3>Database Schema Updates</h3><ul>
<li>Ensured v1.1.0 schema compliance across all tables</li>
<li>Added audit logging tables (<code>audit_logs</code>, <code>audit_log_config</code>)</li>
<li>Added sync metadata tracking (<code>sync_metadata</code> with <code>next_sync_time</code>)</li>
<li>Verified all 21 application tables present</li>
</ul>
<h2>Deployment Notes</h2><h3>Upgrade Path</h3><ol>
<li>Backup existing database before upgrade</li>
<li>Build new Docker image with Node.js 22</li>
<li>Apply database migrations for missing columns/tables</li>
<li>Verify native modules compile correctly</li>
<li>Test authentication and core functionality</li>
</ol>
<h3>Breaking Changes</h3><p>None - backward compatible with existing data and configurations</p>
<h3>Known Issues</h3><ul>
<li>Docker Desktop migration may require manual database restore from backups</li>
<li>Nginx health checks may show unhealthy temporarily after restart (self-heals)</li>
</ul>
<h2>Performance Impact</h2><ul>
<li><strong>Build Time</strong>: ~5 minutes for full rebuild with native modules</li>
<li><strong>Runtime</strong>: No performance degradation, slight improvement in async operations</li>
<li><strong>Memory</strong>: Same 4GB heap allocation, more efficient garbage collection</li>
<li><strong>Startup</strong>: ~8 seconds to healthy state</li>
</ul>
<h2>Related Issues</h2><ul>
<li><a href="https://linear.app/hextrackr/issue/HEX-254">HEX-254</a>: Audit logging infrastructure (tables added)</li>
<li>Database schema alignment with v1.1.0 baseline</li>
</ul>
<h2>Credits</h2><p>Generated with Claude Code</p>

    <!-- Note: This file is intentionally minimal. The full page scaffold, header, footer, and scripts
             are provided by docs-html/index.html. Content generated using this template will be
             fetched and injected into #content-container by docs-html/js/docs-portal-v2.js. -->
</section>
