<!-- Fragment template for documentation content injected by docs-tabler.js -->
<section class="doc-fragment">
    <h1>WebSocket API</h1>
<p>This documentation outlines the WebSocket/Socket.io implementation for real-time communication in HexTrackr. The WebSocket server runs on port <strong>8080</strong>, on the same port as the main application.</p>
<hr>
<h2>Server Configuration</h2>
<ul>
<li><strong>Port</strong>: 8988</li>
<li><strong>Library</strong>: Socket.io</li>
</ul>
<p>The server provides real-time updates for long-running processes such as data imports and exports.</p>
<hr>
<h2>Event Types</h2>
<p>The server emits the following events to the client:</p>
<h3><code>progress-update</code></h3>
<ul>
<li><p><strong>Description</strong>: Sent periodically during a data import process to provide updates on the progress.</p>
</li>
<li><p><strong>Data Structure</strong>:</p>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;processed&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;total&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;percentage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
<span class="hljs-punctuation">}</span></code></pre></li>
</ul>
<h3><code>progress-complete</code></h3>
<ul>
<li><p><strong>Description</strong>: Sent when a data import process has successfully completed.</p>
</li>
<li><p><strong>Data Structure</strong>:</p>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;success&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Import completed successfully.&quot;</span>
<span class="hljs-punctuation">}</span></code></pre></li>
</ul>
<h3><code>progress-error</code></h3>
<ul>
<li><p><strong>Description</strong>: Sent when an error occurs during a data import process.</p>
</li>
<li><p><strong>Data Structure</strong>:</p>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;error&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;An error occurred during the import process.&quot;</span>
<span class="hljs-punctuation">}</span></code></pre></li>
</ul>
<hr>
<h2>Client Integration</h2>
<p>Clients can connect to the WebSocket server to receive real-time updates.</p>
<h3>Connection</h3>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> socket = <span class="hljs-title function_">io</span>(<span class="hljs-string">&#x27;http://localhost:8988&#x27;</span>);

socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;connect&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Connected to WebSocket server&#x27;</span>);
});</code></pre><h3>Event Handling</h3>
<pre><code class="language-javascript">socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;progress&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Import progress: <span class="hljs-subst">${data.percentage}</span>%`</span>);
});

socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;complete&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">message</span>);
});

socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(data.<span class="hljs-property">error</span>);
});</code></pre><hr>
<h2>Security Considerations</h2>
<ul>
<li>The WebSocket server is intended for local network use and does not implement authentication or encryption.</li>
<li>It is recommended to run the WebSocket server behind a firewall and restrict access to trusted clients.</li>
</ul>

    <!-- Note: This file is intentionally minimal. The full page scaffold, header, footer, and scripts
             are provided by docs-html/index.html. Content generated using this template will be
             fetched and injected into #content-container by docs-html/js/docs-portal-v2.js. -->
</section>
