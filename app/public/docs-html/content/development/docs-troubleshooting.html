<!-- Fragment template for documentation content injected by docs-tabler.js -->
<section class="doc-fragment">
    <h1>Documentation Portal Troubleshooting Guide</h1>
<p>This guide helps you resolve common issues with the HexTrackr documentation portal.</p>
<h2>Quick Diagnostics</h2>
<h3>Check System Status</h3>
<pre><code class="language-bash"># Test HTML generation
node app/public/docs-html/html-content-updater.js

# Full documentation refresh
npm run docs:generate

# Check documentation file structure
ls -la app/public/docs-source/
ls -la app/public/docs-html/content/
</code></pre>
<h2>Common Issues</h2>
<h3>1. Documentation Not Updating</h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li>Changes to markdown files don&#39;t appear in the HTML documentation</li>
<li>Stale content shown in browser</li>
<li>Documentation pages show outdated information</li>
</ul>
<p><strong>Solutions:</strong></p>
<h4>Force regeneration</h4>
<pre><code class="language-bash"># Clean regeneration
rm -rf app/public/docs-html/content/*
npm run docs:generate
</code></pre>
<h4>Check file permissions</h4>
<pre><code class="language-bash"># Ensure write permissions
chmod -R 755 app/public/docs-html/
chmod -R 644 app/public/docs-html/content/*.html
</code></pre>
<h4>Verify markdown syntax</h4>
<pre><code class="language-bash"># Run markdown linter
npm run lint:md

# Check specific file syntax
npx markdownlint app/public/docs-source/**/*.md
</code></pre>
<h3>2. HTML Generation Errors</h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li>HTML content updater fails to run</li>
<li>Missing HTML files in content directory</li>
<li>Broken links in documentation navigation</li>
<li>Console errors in browser</li>
</ul>
<p><strong>Solutions:</strong></p>
<h4>Missing dependencies</h4>
<pre><code class="language-bash"># Install missing packages
npm install

# Verify marked library
node -e &quot;console.log(require(&#39;marked&#39;))&quot;

# Check dotenv
node -e &quot;console.log(require(&#39;dotenv&#39;))&quot;
</code></pre>
<h4>File system issues</h4>
<pre><code class="language-bash"># Check disk space
df -h

# Verify directory structure
mkdir -p app/public/docs-html/content
mkdir -p logs/docs-source

# Check file ownership
chown -R $(whoami) app/public/docs-html/
</code></pre>
<h4>HTML Generation Script issues</h4>
<pre><code class="language-bash"># Run with debug output
DEBUG=1 node app/public/docs-html/html-content-updater.js

# Test template loading
node -e &quot;const fs = require(&#39;fs&#39;); console.log(fs.readFileSync(&#39;app/public/docs-html/template.html&#39;, &#39;utf8&#39;))&quot;
</code></pre>
<h3>3. Performance Issues</h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li>Slow documentation generation</li>
<li>Browser freezing when loading documentation</li>
<li>High memory usage during HTML generation</li>
</ul>
<p><strong>Solutions:</strong></p>
<h4>Reduce concurrent operations</h4>
<pre><code class="language-bash"># Process files individually instead of batch
node app/public/docs-html/html-content-updater.js --single-thread
</code></pre>
<h4>Monitor memory usage</h4>
<pre><code class="language-bash"># Check memory during generation
top -p $(pgrep -f html-content-updater)

# Memory usage analysis
node --max-old-space-size=512 app/public/docs-html/html-content-updater.js
</code></pre>
<h4>Check for large files</h4>
<pre><code class="language-bash"># Find large markdown files
find app/public/docs-source/ -name &quot;*.md&quot; -size +1M

# Check image sizes
find app/public/docs-source/ -name &quot;*.png&quot; -o -name &quot;*.jpg&quot; -size +5M
</code></pre>
<h3>4. Navigation and Linking Issues</h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li>Broken internal links</li>
<li>Missing pages in navigation</li>
<li>404 errors for documentation pages</li>
</ul>
<p><strong>Solutions:</strong></p>
<h4>Check link format</h4>
<pre><code class="language-bash"># Verify relative link format
grep -r &quot;\.md)&quot; app/public/docs-source/ | grep -v &quot;http&quot;

# Check for absolute paths
grep -r &quot;file://&quot; app/public/docs-source/
</code></pre>
<h4>Validate navigation structure</h4>
<pre><code class="language-bash"># Test navigation JSON generation
node -e &quot;
const updater = require(&#39;./app/public/docs-html/html-content-updater.js&#39;);
// Test navigation discovery logic
&quot;
</code></pre>
<h2>Error Codes and Messages</h2>
<h3>Common Error Messages</h3>
<h4>&quot;html-content-updater.js not found&quot;</h4>
<p><strong>Cause</strong>: Script path incorrect or file missing<br><strong>Solution</strong>:</p>
<pre><code class="language-bash"># Verify file exists
ls -la app/public/docs-html/html-content-updater.js

# Run from project root
cd /path/to/hextrackr &amp;&amp; node app/public/docs-html/html-content-updater.js
</code></pre>
<h4>&quot;Cannot read property &#39;replace&#39; of undefined&quot;</h4>
<p><strong>Cause</strong>: Template file corrupt or missing<br><strong>Solution</strong>:</p>
<pre><code class="language-bash"># Check template file
cat app/public/docs-html/template.html

# Restore template if needed
git checkout app/public/docs-html/template.html
</code></pre>
<h4>&quot;Path traversal detected&quot;</h4>
<p><strong>Cause</strong>: Invalid file paths in markdown content<br><strong>Solution</strong>: Review and fix file path references in markdown files</p>
<h3>Exit Codes</h3>
<ul>
<li><strong>0</strong>: Success</li>
<li><strong>1</strong>: General error (check logs)</li>
<li><strong>2</strong>: File system permission error</li>
<li><strong>3</strong>: Template or configuration error</li>
</ul>
<h2>Advanced Debugging</h2>
<h3>Enable Debug Logging</h3>
<pre><code class="language-bash"># Enable verbose output
export DEBUG=docs:*
npm run docs:generate

# Log to file
npm run docs:generate &gt; docs-debug.log 2&gt;&amp;1
</code></pre>
<h3>Manual Step-by-Step Testing</h3>
<pre><code class="language-javascript">// Test template loading
const fs = require(&#39;fs&#39;);
const template = fs.readFileSync(&#39;app/public/docs-html/template.html&#39;, &#39;utf8&#39;);
console.log(&#39;Template loaded:&#39;, template.length, &#39;characters&#39;);

// Test markdown parsing
const { marked } = require(&#39;marked&#39;);
const markdown = &#39;# Test\n\nThis is a test.&#39;;
const html = marked.parse(markdown);
console.log(&#39;Parsed HTML:&#39;, html);

// Test file discovery
const path = require(&#39;path&#39;);
const glob = require(&#39;glob&#39;);
const files = glob.sync(&#39;app/public/docs-source/**/*.md&#39;);
console.log(&#39;Found markdown files:&#39;, files.length);
</code></pre>
<h2>Prevention Tips</h2>
<h3>Regular Maintenance</h3>
<pre><code class="language-bash"># Weekly maintenance routine
npm run lint:all
npm run docs:generate
npm test

# Check for broken links
npm run docs:validate-links
</code></pre>
<h3>Best Practices</h3>
<ul>
<li>Always test documentation changes locally before committing</li>
<li>Use relative links for internal documentation references</li>
<li>Keep markdown files under 1MB for optimal performance</li>
<li>Validate markdown syntax with linting tools</li>
</ul>
<h3>Monitoring</h3>
<pre><code class="language-bash"># Monitor documentation build times
time npm run docs:generate

# Check generated file sizes
du -sh app/public/docs-html/content/

# Validate HTML output
html5validator app/public/docs-html/content/*.html
</code></pre>
<h2>Getting Help</h2>
<p>If you continue experiencing issues:</p>
<ol>
<li><strong>Check logs</strong>: Review <code>logs/docs-source/html-update-report.md</code> for detailed error information</li>
<li><strong>Validate environment</strong>: Ensure Node.js version compatibility and all dependencies are installed</li>
<li><strong>File permissions</strong>: Verify read/write access to documentation directories</li>
<li><strong>Clean rebuild</strong>: Delete <code>app/public/docs-html/content/</code> and regenerate from scratch</li>
</ol>
<p>For persistent issues, create a bug report with:</p>
<ul>
<li>Error messages and stack traces</li>
<li>Environment details (Node.js version, OS)</li>
<li>Steps to reproduce the issue</li>
<li>Documentation generation logs</li>
</ul>

    <!-- Note: This file is intentionally minimal. The full page scaffold, header, footer, and scripts
             are provided by docs-html/index.html. Content generated using this template will be
             fetched and injected into #content-container by docs-html/js/docs-portal-v2.js. -->
</section>
