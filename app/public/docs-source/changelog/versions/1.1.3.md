---
title: "Version 1.1.3 - Dependency Cleanup: Chart.js and Stagehand Removal"
date: "2025-10-23"
version: "1.1.3"
status: "Released"
category: "Maintenance"
---

# Version 1.1.3 - Dependency Cleanup: Chart.js and Stagehand Removal

**Release Status**: ✅ Released
**Release Date**: 2025-10-23
**Parent Issues**: [HEX-333](https://linear.app/hextrackr/issue/HEX-333/tech-debt-remove-unused-chartjs-dependency-from-packagejson), [DOCS-79](https://linear.app/hextrackr/issue/DOCS-79/docs-content-fix-outdated-chartjs-reference-in-vulnerabilitieshtml)

## Overview

HexTrackr v1.1.3 removes two unused dependencies (Chart.js and Stagehand) that were creating technical debt and dependency conflicts. This cleanup eliminates ~300KB of unused packages, resolves peer dependency issues with dotenv, and removes misleading documentation that incorrectly referenced Chart.js instead of the actually-used ApexCharts library.

## Dependency Cleanup

### Removed: Chart.js Production Dependency (HEX-333)

**Priority**: Low (Technical Debt)
**Impact**: Eliminated dependency bloat, fixed misleading documentation, removed false security alerts

**Problem**: Chart.js listed as production dependency but completely unused
- `package.json:33` listed `"chart.js": "^4.4.0"` as dependency
- HexTrackr uses **ApexCharts** for all chart rendering (loaded from `/vendor/apexcharts/`)
- Chart.js never instantiated anywhere in codebase
- Added ~270KB to node_modules unnecessarily
- Created false security alerts from vulnerability scanners
- Misleading documentation suggested Chart.js was used

**Solution**: Complete removal of Chart.js and all references
- Removed `chart.js` from package.json dependencies
- Removed Chart.js ESLint global declarations from `globals.js`
- Removed misleading HTML comments from `vulnerabilities.html`
- Updated `technology-stack.html` documentation
- Verified all chart functionality continues to work via ApexCharts

**Files Modified**:
- `package.json:33` - Removed chart.js dependency
- `app/public/scripts/globals.js:66` - Removed from LIBRARY_GLOBALS array
- `app/public/scripts/globals.js:96` - Removed from JSDoc comments
- `app/public/scripts/globals.js:111` - Removed from ESLint global declarations
- `app/public/vulnerabilities.html:73-74` - Removed misleading comments
- `app/public/docs-html/content/architecture/technology-stack.html:144` - Removed from docs
- `package-lock.json` - Cleaned 13 Chart.js-related packages

**Validation**:
- ✅ Chart.js successfully removed from node_modules
- ✅ ApexCharts continues to render vulnerability trend charts correctly
- ✅ No console errors after removal
- ✅ Docker container restarted successfully (https://dev.hextrackr.com)
- ✅ Vulnerabilities page returns HTTP 200
- ✅ All chart functionality verified working (render, theme switching, zoom/pan)

---

### Removed: Stagehand Development Dependency

**Priority**: Low (Technical Debt)
**Impact**: Fixed peer dependency conflict with dotenv, eliminated unused browser automation tool

**Problem**: Stagehand listed as devDependency but never used
- `package.json:55` listed `"@browserbasehq/stagehand": "^1.12.1"` as devDependency
- Created peer dependency conflict: Stagehand requires `dotenv@^16.4.5`, HexTrackr uses `dotenv@^17.2.1`
- Forced use of `--legacy-peer-deps` flag during npm install
- Referenced non-existent test file: `tests/stagehand-examples.js`
- No Stagehand usage found anywhere in codebase

**Solution**: Complete removal of Stagehand and related scripts
- Removed `@browserbasehq/stagehand` from package.json devDependencies
- Removed `test:stagehand` script from package.json (referenced non-existent file)
- Verified no Stagehand imports or usage in codebase

**Files Modified**:
- `package.json:55` - Removed @browserbasehq/stagehand devDependency
- `package.json:25` - Removed test:stagehand script
- `package-lock.json` - Cleaned 23 Stagehand-related packages

**Validation**:
- ✅ Stagehand successfully removed from dependency tree
- ✅ `npm install` now runs cleanly without `--legacy-peer-deps` flag
- ✅ dotenv peer dependency conflict resolved
- ✅ All existing npm scripts continue to work

---

## Documentation Fixes (DOCS-79)

**Priority**: High (Documentation Accuracy)
**Impact**: Eliminated developer confusion about charting library architecture

**Problem**: HTML comments incorrectly referenced Chart.js
- `vulnerabilities.html:73-74` had comments saying "Chart.js for mini-charts"
- Created confusion about which charting library is actually used
- Could mislead future developers during debugging or refactoring
- Documentation-code mismatch violated principle of accurate technical docs

**Solution**: Removed misleading comments, updated documentation
- Removed Chart.js comments from vulnerabilities.html
- Updated technology-stack.html to reflect ApexCharts-only architecture
- Aligned documentation with actual implementation (ApexCharts from /vendor/)

**Validation**:
- ✅ No Chart.js references remain in HTML or documentation
- ✅ ApexCharts correctly documented as sole charting library
- ✅ Documentation portal updated with accurate technology stack

---

## Documentation Improvements

As part of ongoing documentation quality improvements, this release includes numerous corrections to ensure accuracy and completeness across technical documentation, API references, and architecture documentation. These fixes address outdated version numbers, incorrect line references, missing file paths, and incomplete JSDoc annotations.

### Content Accuracy Corrections

**Version & Line Reference Updates** ([DOCS-80](https://linear.app/hextrackr/issue/DOCS-80), [DOCS-81](https://linear.app/hextrackr/issue/DOCS-81), [DOCS-85](https://linear.app/hextrackr/issue/DOCS-85), [DOCS-94](https://linear.app/hextrackr/issue/DOCS-94), [DOCS-100](https://linear.app/hextrackr/issue/DOCS-100), [DOCS-103](https://linear.app/hextrackr/issue/DOCS-103), [DOCS-105](https://linear.app/hextrackr/issue/DOCS-105))
- Updated WebSocket documentation from v1.0.54 to v1.1.3, corrected `io.engine.use()` authentication implementation
- Simplified WebSocket port documentation to remove internal Docker port references (8080, 8989)
- Corrected security.md version references and trust proxy line numbers (lines 81-85)
- Updated database.md table count from 19 to 21 tables, corrected schema version to v1.1.3
- **Content**: Fixed AG-Grid version in `architecture/technology-stack.md` from 32.x to 33.3.2 (verified against deployed vendor file)
- **Content**: Fixed database schema version footer in `architecture/database.md` from v1.0.66 to v1.1.3, clarified that schema structure unchanged since v1.0.66 ([DOCS-103](https://linear.app/hextrackr/issue/DOCS-103))
- **Content**: Fixed database location in `architecture/database.md` - added Docker context showing absolute path `/app/data/hextrackr.db` and named volume `hextrackr-database` ([DOCS-105](https://linear.app/hextrackr/issue/DOCS-105))
- **Content**: Fixed version references in `architecture/data-model.md` - clarified distinction between schema baseline (v1.1.0) and application version (v1.1.3) in header and footer to eliminate confusion about documentation currency ([DOCS-106](https://linear.app/hextrackr/issue/DOCS-106))
- **Content**: Fixed WebSocket port documentation in `architecture/technology-stack.md` - corrected incorrect port 8988 reference to accurate architecture where Socket.io runs on same port as HTTP server (8080 internal, 8989 external) ([DOCS-110](https://linear.app/hextrackr/issue/DOCS-110))
- **Content**: Fixed Cisco PSIRT startup delay timing in `guides/cisco-psirt-integration.md` - corrected inaccurate "10 seconds" references (lines 81, 93, 393-394) to actual implementation of "5 minutes" (300 seconds) with rationale explaining the delay prevents database corruption on rapid Docker restarts ([DOCS-112](https://linear.app/hextrackr/issue/DOCS-112))
- **Content**: Fixed Express.js version in `architecture/technology-stack.md` - corrected outdated 4.18.2 to actual installed version 4.21.2 (verified via npm list) to reflect current production dependency and ensure accurate technology documentation ([DOCS-115](https://linear.app/hextrackr/issue/DOCS-115))

**Architecture Documentation Corrections** ([DOCS-83](https://linear.app/hextrackr/issue/DOCS-83), [DOCS-87](https://linear.app/hextrackr/issue/DOCS-87), [DOCS-89](https://linear.app/hextrackr/issue/DOCS-89), [DOCS-91](https://linear.app/hextrackr/issue/DOCS-91), [DOCS-93](https://linear.app/hextrackr/issue/DOCS-93), [DOCS-95](https://linear.app/hextrackr/issue/DOCS-95), [DOCS-96](https://linear.app/hextrackr/issue/DOCS-96), [DOCS-99](https://linear.app/hextrackr/issue/DOCS-99), [DOCS-114](https://linear.app/hextrackr/issue/DOCS-114))
- Fixed 13+ file paths in frontend.md to include `/app/public/` prefix
- Removed stale Chart.js and Stagehand references from technology-stack.md
- Updated theme-architecture.md: css-variables.css line count (499 → 624), added missing login.css
- Corrected backend.md server.js line count inconsistency (205 → 831 lines)
- Updated backend.md route module count (13 → 15 modules), added missing loggingService.js to service table
- Standardized rate limit documentation across 5 locations: 60 req/15min (production), 10,000 req/1min (development)
- **Content**: Fixed outdated version annotations in `architecture/backend.md` controller table - removed v1.0.x version references (v1.0.22+, v1.0.63+, v1.0.67+, v1.0.93+) as project is now at v1.1.3 and changelog documents feature history ([DOCS-114](https://linear.app/hextrackr/issue/DOCS-114))

### JSDoc Enhancements

**DocsService Methods** ([DOCS-82](https://linear.app/hextrackr/issue/DOCS-82), [DOCS-84](https://linear.app/hextrackr/issue/DOCS-84), [DOCS-86](https://linear.app/hextrackr/issue/DOCS-86), [DOCS-88](https://linear.app/hextrackr/issue/DOCS-88), [DOCS-90](https://linear.app/hextrackr/issue/DOCS-90), [DOCS-97](https://linear.app/hextrackr/issue/DOCS-97))
- Enhanced JSDoc for `computeStats()`, `computeApiEndpoints()`, `computeJsFunctionCount()`, `detectFrameworks()`, `findDocsSectionForFilename()` with @async, @returns, @throws, @example tags
- Enhanced JSDoc for `generateJSDoc()` in html-content-updater.js

**Controller Methods** ([DOCS-98](https://linear.app/hextrackr/issue/DOCS-98), [DOCS-101](https://linear.app/hextrackr/issue/DOCS-101), [DOCS-104](https://linear.app/hextrackr/issue/DOCS-104), [DOCS-107](https://linear.app/hextrackr/issue/DOCS-107), [DOCS-109](https://linear.app/hextrackr/issue/DOCS-109), [DOCS-111](https://linear.app/hextrackr/issue/DOCS-111), [DOCS-113](https://linear.app/hextrackr/issue/DOCS-113), [DOCS-116](https://linear.app/hextrackr/issue/DOCS-116), [DOCS-119](https://linear.app/hextrackr/issue/DOCS-119))
- Enhanced JSDoc for `getMatchedKevs()` in kevController.js with query parameter documentation, @route tag, response structure, and usage examples
- Enhanced JSDoc for `checkAutoSync()` in kevController.js with detailed KEV auto-sync description, query parameter documentation, @route tag, @throws tag, response structure, and usage examples
- **JSDoc**: Fixed documentation for `findDocsSectionForFilename` in `app/controllers/docsController.js` - added @throws tag to clarify non-throwing behavior ([DOCS-104](https://linear.app/hextrackr/issue/DOCS-104))
- **JSDoc**: Fixed documentation for `syncKevData()` in `app/controllers/kevController.js` - added @throws tag documenting error conditions for sync failures, API unreachability, database errors, and cache clearing ([DOCS-107](https://linear.app/hextrackr/issue/DOCS-107))
- **JSDoc**: Fixed documentation for `getKevStatus()`, `getKevByCve()`, and `getAllKevs()` in `app/controllers/kevController.js` - added @throws tags, enhanced @param documentation, added @example tags, and improved @returns documentation for complete file coverage ([DOCS-109](https://linear.app/hextrackr/issue/DOCS-109))
- **JSDoc**: Fixed documentation for exported `getStats()` wrapper in `app/controllers/docsController.js` - added public API documentation with @async, @function, @returns, @throws, and @example tags ([DOCS-111](https://linear.app/hextrackr/issue/DOCS-111))
- **JSDoc**: Fixed documentation for `exportUserPreferences()` in `app/controllers/preferencesController.js` - added comprehensive JSDoc with @async, @throws, @route, @example tags, detailed @param documentation for req.user properties, and complete @returns documentation for response format and error conditions ([DOCS-113](https://linear.app/hextrackr/issue/DOCS-113))
- **JSDoc**: Fixed documentation for `getVulnerabilityById()` in `app/controllers/vulnerabilityController.js` - added comprehensive JSDoc with @async, @throws, @route, @example tags, nested @param documentation for req.params.id, and complete @returns documentation covering all HTTP response codes (200/400/404/500) ([DOCS-116](https://linear.app/hextrackr/issue/DOCS-116/jsdoc-fix-add-missing-documentation-tags-to-getvulnerabilitybyid))
- **JSDoc**: Fixed documentation for `findDocsSectionForFilename()` in `app/controllers/docsController.js` - enhanced parameter documentation explaining validation expectations, clarified return value format with URL usage context, added @see tag for cross-reference to docsService implementation, and expanded examples to cover simple lookup, nested paths, and not-found cases ([DOCS-119](https://linear.app/hextrackr/issue/DOCS-119))

**Security Middleware Methods** ([DOCS-102](https://linear.app/hextrackr/issue/DOCS-102))
- Enhanced JSDoc for `PathValidator.safeReadFileSync()` in middleware/security.js with comprehensive security documentation, @throws tags for all error conditions (path traversal, filesystem errors), detailed @param documentation for encoding options, and four @example tags demonstrating correct usage and security violation scenarios

**Validation Middleware Methods** ([DOCS-118](https://linear.app/hextrackr/issue/DOCS-118), [DOCS-123](https://linear.app/hextrackr/issue/DOCS-123))
- **JSDoc**: Fixed documentation for `validateNumericId()` in `app/middleware/validation.js` - added comprehensive JSDoc for higher-order function pattern with @param tag documenting default parameter value, @returns tag describing returned Express middleware behavior, @throws tag clarifying error handling strategy, and two @example tags demonstrating default usage and custom parameter name validation ([DOCS-118](https://linear.app/hextrackr/issue/DOCS-118))
- **JSDoc**: Fixed documentation for `validateFileUpload()` in `app/middleware/validation.js` - added comprehensive JSDoc with @param tags for Express middleware parameters and req.file properties, @returns tag documenting validation responses and error codes, @throws tag clarifying error handling, and two @example tags demonstrating CSV upload and JSON restore endpoint usage ([DOCS-123](https://linear.app/hextrackr/issue/DOCS-123))

**Location Controller Methods** ([DOCS-122](https://linear.app/hextrackr/issue/DOCS-122))
- **JSDoc**: Fixed documentation for `getLocationStats()` in `app/controllers/locationController.js` - added comprehensive JSDoc with @async, @param, @returns, @throws, @route, and @example tags to transform descriptive comments into machine-readable documentation for IDE autocomplete ([DOCS-122](https://linear.app/hextrackr/issue/DOCS-122))

**API Reference Version Context** ([DOCS-124](https://linear.app/hextrackr/issue/DOCS-124))
- **Content**: Fixed outdated version references in `api-reference/backend-api.md` - added header note displaying current version (v1.1.3) with explanation that historical "Since:" annotations indicate feature introduction dates, preventing user confusion about feature availability ([DOCS-124](https://linear.app/hextrackr/issue/DOCS-124))

**Service Helper Methods** ([DOCS-125](https://linear.app/hextrackr/issue/DOCS-125))
- **JSDoc**: Fixed documentation for `_log()` helper in `app/services/ticketService.js` - added comprehensive JSDoc with @param tags for all three parameters (level, message, data), @returns tag documenting void return, @throws tag clarifying defensive non-throwing behavior, and two @example tags demonstrating typical logging patterns ([DOCS-125](https://linear.app/hextrackr/issue/DOCS-125/jsdoc-fix-add-proper-jsdoc-to-log-helper-in-ticketservice))

**Auth Controller Methods** ([DOCS-128](https://linear.app/hextrackr/issue/DOCS-128))
- **JSDoc**: Fixed documentation for `getProfile()` in `app/controllers/authController.js` - added comprehensive JSDoc with @async tag, nested @param documentation for req.user properties, detailed @returns documentation for all response codes (200/404/500), @throws tag documenting error conditions, @route tag, and two @example tags demonstrating successful profile retrieval and session destruction on deleted user ([DOCS-128](https://linear.app/hextrackr/issue/DOCS-128))

**DocsController Exported Functions** ([DOCS-130](https://linear.app/hextrackr/issue/DOCS-130))
- **JSDoc**: Fixed documentation for exported `findDocsSectionForFilename` in `app/controllers/docsController.js` - added public API documentation with @function, @param, @returns, @throws, @see, and two @example tags to match pattern established by getStats export and provide IDE autocomplete support ([DOCS-130](https://linear.app/hextrackr/issue/DOCS-130))

**TicketController Initialization Methods** ([DOCS-131](https://linear.app/hextrackr/issue/DOCS-131))
- **JSDoc**: Fixed documentation for `initialize()` in `app/controllers/ticketController.js` - added comprehensive JSDoc with @static, @param, @returns, @throws, and @example tags to document singleton pattern setup and database initialization sequence ([DOCS-131](https://linear.app/hextrackr/issue/DOCS-131))

**Production OS Documentation Corrections** ([DOCS-121](https://linear.app/hextrackr/issue/DOCS-121))
- **Content**: Fixed contradictory production OS information in `architecture/technology-stack.md` - corrected line 153 from "Ubuntu Server 24.04 LTS" to "RHEL 10.0" to match actual production environment verified via `/etc/redhat-release` ([DOCS-121](https://linear.app/hextrackr/issue/DOCS-121))
- **Content**: Fixed production OS in `reference/system-requirements.md` - corrected line 27 from "Ubuntu Server 24.04 LTS" to "RHEL 10.0 (Coughlan)" to accurately reflect current production deployment ([DOCS-121](https://linear.app/hextrackr/issue/DOCS-121))
- **Content**: Fixed tested environment in `docs/RHEL_DEPLOYMENT_GUIDE.md` - corrected line 5 from "Ubuntu 24.04 LTS (current production)" to "RHEL 10.0 (current production)" to eliminate confusion about production OS ([DOCS-121](https://linear.app/hextrackr/issue/DOCS-121))

**Database Schema Documentation Corrections** ([DOCS-129](https://linear.app/hextrackr/issue/DOCS-129))
- **Content**: Fixed missing `next_sync_time` column in `architecture/database.md` sync_metadata table documentation - updated from "8 columns" to "9 columns" and added missing column definition for ISO 8601 timestamp field used by countdown timers ([DOCS-129](https://linear.app/hextrackr/issue/DOCS-129))

**Version Documentation Standard Clarification** ([DOCS-132](https://linear.app/hextrackr/issue/DOCS-132))
- **Content**: Added version documentation standard header to `architecture/technology-stack.md` - explains that all versions represent currently-running production versions (verified via docker exec npm list) which may differ from package.json semver constraints that specify minimum versions for npm dependency resolution, preventing future confusion during documentation accuracy hunts ([DOCS-132](https://linear.app/hextrackr/issue/DOCS-132))

---
## Impact Summary

### Dependency Cleanup Results

**Packages Removed**: 36 total packages (Chart.js: 13, Stagehand: 23)
**Bundle Size Reduction**: ~300KB+ removed from node_modules
**Peer Conflicts Resolved**: dotenv version mismatch eliminated
**Build Process Improvement**: npm install now runs cleanly without flags

### Before vs After

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| **Dependencies** | 23 | 22 | -1 |
| **DevDependencies** | 8 | 7 | -1 |
| **Total Packages** | 627 | 591 | -36 |
| **npm install** | Requires `--legacy-peer-deps` | Works cleanly | ✅ Fixed |
| **Peer Conflicts** | 1 (dotenv) | 0 | ✅ Resolved |
| **False Security Alerts** | Chart.js CVEs flagged | None | ✅ Eliminated |

---

## Code Quality Improvements

### Removed Commented Supervisor Filter Code ([HEX-335](https://linear.app/hextrackr/issue/HEX-335/code-cleanup-remove-commented-supervisor-filter-code-in-ticketsjs))

**Priority**: Low (Code Cleanup)
**Impact**: Removed dead event listener code that has been commented out for 4.5 months

**Problem**: Leftover commented code from September 2025 spec 001 refactoring
- `app/public/scripts/pages/tickets.js:528-532` contained commented event listener for supervisor filter
- Supervisor filter feature was completely removed during "JavaScript module extraction and file reorganization"
- Code was commented with note: "Remove this event listener since we no longer have supervisor filter"
- HTML element `clearSupervisorFilter` does not exist in codebase
- Method `clearSupervisorFilter()` does not exist in tickets.js

**Solution**: Removed 5-line commented code block
- Removed lines 528-532 containing commented event listener
- Verified no active references to supervisor filter in codebase
- Git history confirmed code was commented September 8, 2025 (4.5 months ago)
- Current implementation works without this code

**Files Modified**:
- `app/public/scripts/pages/tickets.js:528-532` - Removed commented supervisor filter event listener

**Validation**:
- ✅ ESLint passed with no new errors
- ✅ No active references found in codebase (HTML element doesn't exist)
- ✅ Tickets page functionality unchanged (feature was already removed)
- ✅ Clean removal with no extra blank lines

---

### Unified Logging System Integration ([HEX-334](https://linear.app/hextrackr/issue/HEX-334/code-cleanup-replace-consolelog-with-logger-in-securityjs))

**Priority**: Low (Code Quality)
**Impact**: Integrated API access monitoring into HexTrackr's unified LoggingService system for consistent production logging

**Problem**: API security middleware used console.log for production logging
- `app/middleware/security.js:250` used `console.log()` for API access monitoring
- Fragmented logging where security events weren't centrally tracked
- API access logs (method, URL, source IP) critical for security audits but logged to stdout
- No integration with HexTrackr's unified LoggingService (HEX-254) and audit trail system

**Solution**: Upgraded to LoggingService.info() with proper category
- Replaced `console.log()` with `global.logger.info("backend", "api", message)`
- Added API access logging to unified logging system with category-based filtering
- Integrated with LoggingService configuration (`logging.config.json`)
- Follows global.logger pattern used throughout HexTrackr backend (server.js, controllers)

**Files Modified**:
- `app/middleware/security.js:21-22` - Added LoggingService documentation comment
- `app/middleware/security.js:251-253` - Replaced console.log with global.logger.info()

**Validation**:
- ✅ ESLint passed with no new errors
- ✅ API security middleware functions correctly (401 authentication check verified)
- ✅ LoggingService integration follows established patterns from HEX-254 unified logging system

### Removed Commented Localhost Path Optimization ([HEX-336](https://linear.app/hextrackr/issue/HEX-336/code-cleanup-remove-commented-code-in-docs-portal-v2js))

**Priority**: Low (Code Cleanup)
**Impact**: Removed dead hostname-based path optimization code from documentation portal

**Problem**: Leftover commented code from September 2025 spec 001 refactoring
- `app/public/docs-html/js/docs-portal-v2.js:1099-1101` contained commented localhost optimization
- Hostname-based path detection (`window.location.hostname === "localhost"`) was replaced with pathname-based approach
- Code commented during "JavaScript module extraction and file reorganization" (commit 39ef5ea6)
- Inline comment explained removal: "This is removed because we always need to respect the path structure"
- Current implementation correctly handles path resolution using `window.location.pathname` (lines 1104-1110)

**Solution**: Removed 5-line commented code block
- Removed lines 1097-1101 containing commented localhost detection and explanatory comments
- Verified current pathname-based implementation works correctly across all deployment contexts
- Git history confirmed code was commented 6 weeks ago (September 8, 2025)
- No active references to hostname-based path logic in codebase

**Files Modified**:
- `app/public/docs-html/js/docs-portal-v2.js:1097-1101` - Removed commented localhost path optimization

**Validation**:
- ✅ ESLint passed with no new errors in modified file
- ✅ Documentation portal accessible at https://dev.hextrackr.com/docs-html/ (HTTP 200)
- ✅ Path resolution continues to work correctly via pathname detection
- ✅ Clean removal with no extra blank lines

### Removed Debug Console.log from Palo Alto Controller ([HEX-337](https://linear.app/hextrackr/issue/HEX-337/code-cleanup-remove-consolelog-in-paloaltocontrollerjs))

**Priority**: Low (Code Cleanup)
**Impact**: Removed debugging console.log statement from Palo Alto advisory sync endpoint

**Problem**: Leftover debug logging from initial feature implementation
- `app/controllers/paloAltoController.js:38` contained debug console.log statement
- Message: "Palo Alto advisory sync requested via API"
- Added during HEX-209 Task 1-7 Palo Alto backend implementation (September 2025)
- No production logging value (JSON response provides client feedback)
- File uses no `logger.*` calls - this was temporary debug code

**Solution**: Removed debug console.log statement
- Removed line 38 containing API invocation notification
- Preserved error handling (console.error at line 67 remains for production error logging)
- Client feedback maintained via JSON response (lines 57-64: success status, advisory counts, timestamps)
- No side effects or functional dependencies

**Files Modified**:
- `app/controllers/paloAltoController.js:38` - Removed debug console.log

**Validation**:
- ✅ ESLint passed with no new errors in modified file
- ✅ No side effects (simple string literal logging)
- ✅ Docker container restarted successfully
- ✅ Main site accessible (HTTP 200)
- ✅ Error handling preserved (console.error remains)
- ✅ JSON response provides complete client feedback

### Removed Debug Console.log from Template Service ([HEX-338](https://linear.app/hextrackr/issue/HEX-338/code-cleanup-remove-consolelog-in-templateservicejs))

**Priority**: Low (Code Cleanup)
**Impact**: Removed debugging console.log statement from template category validation

**Problem**: Leftover debug logging from September 2025 template editor transformation
- `app/services/templateService.js:956` contained debug console.log statement
- Message: Category validation scores and best match results during template content analysis
- Added September 21, 2025 during v1.0.21 template editor UI transformation (dropdown variables feature)
- Validation warnings already captured in `result.warnings` array and displayed via console.warn at line 232
- No production logging value (structured return value provides complete validation data)

**Solution**: Removed debug console.log statement
- Removed line 956 containing category validation debug output
- Validation results remain fully captured in `result.warnings` array (line 952)
- User-facing warnings continue to display via console.warn at line 232
- No side effects or functional dependencies (only read categoryScores and bestMatch variables)

**Files Modified**:
- `app/services/templateService.js:956` - Removed debug console.log from validateTemplateContent()

**Validation**:
- ✅ ESLint passed with no new errors in templateService.js
- ✅ No side effects (only logged computed variables, no mutations)
- ✅ Validation warnings remain fully functional (captured in result object, displayed to users)
- ✅ Template category validation logic unchanged

---

## Related Issues

- Tech Debt: [HEX-333](https://linear.app/hextrackr/issue/HEX-333/tech-debt-remove-unused-chartjs-dependency-from-packagejson) - Remove unused Chart.js dependency
- Documentation: [DOCS-79](https://linear.app/hextrackr/issue/DOCS-79/docs-content-fix-outdated-chartjs-reference-in-vulnerabilitieshtml) - Fix Chart.js reference in vulnerabilities.html
- Code Quality: [HEX-334](https://linear.app/hextrackr/issue/HEX-334/code-cleanup-replace-consolelog-with-logger-in-securityjs) - Replace console.log with logger in security.js

---

## Notes

### Why This Matters

**Technical Debt Reduction**: Unused dependencies create maintenance burden (security updates, compatibility conflicts) without providing value. Removing them improves codebase health.

**Security Posture**: Vulnerability scanners flag CVEs in all dependencies, even unused ones. Chart.js CVEs would trigger false alerts, wasting security team time investigating non-issues.

**Developer Experience**: Misleading documentation and unused dependencies confuse new developers during onboarding. Clear, accurate codebase documentation reduces ramp-up time and prevents architectural misunderstandings.

**Build Reliability**: Peer dependency conflicts force workarounds like `--legacy-peer-deps`, which can mask real compatibility issues. Clean dependency resolution ensures reliable builds.

### Testing Performed

- ✅ Full Docker container restart verified
- ✅ Vulnerabilities page chart rendering tested (https://dev.hextrackr.com/vulnerabilities.html)
- ✅ Chart theme switching verified (light/dark mode)
- ✅ Chart interactions tested (zoom, pan, export)
- ✅ npm install runs cleanly without flags
- ✅ ESLint validation passes (no undefined global errors)
- ✅ Pre-commit hooks passed successfully

---

*Changelog completed on 2025-10-23 by Claude Code*
