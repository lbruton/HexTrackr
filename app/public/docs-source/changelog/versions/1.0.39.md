# Version 1.0.39

**Release Date**: 2025-09-30

---

## [1.0.39] - 2025-09-30

### Fixed (4)

#### HEX-99: Clear Vulnerabilities Showing Stale Cached Data

**Issue**: After clicking "Clear Vulnerabilities", the UI continued showing old data despite empty database. Required Docker restart to see empty state.

**Root Cause**: Two-layer caching problem:

1. Server correctly cleared application cache ✅
2. Browser cached responses (60s TTL) served old data ❌
3. Frontend didn't use cache-busting parameters when reloading

**Solution**:

- Added `bustCache=true` parameter to `clearAllData()` operation
- Enhanced `refreshData()` to support optional cache busting
- Cache-busting appends timestamps to API URLs forcing fresh requests

**Impact**: "Clear Vulnerabilities" now immediately shows empty state without page refresh.

**Files Modified**:

- `app/public/scripts/shared/vulnerability-data.js`

#### HEX-99 Enhancement: VACUUM After Clear Operations

**Issue**: Database file showed 140.6 MB despite 0 records. SQLite DELETE operations don't shrink files - they mark pages as "free" for reuse.

**Analysis**:

- Total pages: 35,990 (141 MB)
- Free pages: 28,754 (112 MB wasted space - 80%!)
- Actual data: ~29 MB

**Solution**: Added SQLite VACUUM command after clearing vulnerability data to rebuild database file and reclaim disk space.

**Impact**: Database shrinks from ~141 MB to ~30 MB after clear operation.

**Files Modified**:

- `app/services/vulnerabilityService.js`