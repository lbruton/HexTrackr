# Version 1.0.93

---

## [1.0.93]

### Added

#### KEV Modal Enhancements (HEX-255) - 2025-10-20

**Description**: Redesigned KEV details and picker modals with improved navigation, selection patterns, and user workflows for both device-based and location-based KEV vulnerability viewing.

**Key Features**:
- Added modal footer to single KEV details modal with "View CVE Details" and "Close" buttons
- Redesigned KEV picker modal (multi-KEV selection) with radio button selection pattern
- Color-coded CVE IDs by severity (Critical=red, High=orange, Medium=blue, Low=green)
- Moved VPR scores to right side with severity-based color coding
- Implemented back navigation from KEV details to picker modals
- Redesigned location KEV picker modal with horizontal CVE layout
- Added "View Device Details" button to location KEV picker footer
- Scrollable containers (400px max-height) for modals with 6+ items

**Technical Implementation**:
- Enhanced `showKevDetails()` function with optional `fromPicker` parameter for context-aware footer rendering
- Added `returnToKevPicker()` function with intelligent context detection (location vs. device picker)
- Implemented `selectKevFromPicker()` and `viewSelectedKevDetails()` for KEV picker interactions
- Added `selectLocationKevDevice()`, `viewSelectedLocationKevDevice()`, and `returnToLocationKevPicker()` for location KEV modal
- Context storage using `window.kevPickerContext` and `window.locationKevPickerContext`
- Proper modal backdrop cleanup using `hidden.bs.modal` event listeners with 300ms transition delays
- Radio button selection pattern following backup/restore modal UX conventions

**Use Case**: Security teams managing locations with 69+ KEV devices can now efficiently browse KEV vulnerabilities, jump to individual KEV details, navigate back to the picker, and quickly access device details - all with proper modal state management and no backdrop issues.

**Files Modified**:
- `app/public/vulnerabilities.html`: Enhanced KEV details modal footer, KEV picker modal redesign, added helper functions for navigation and selection
- `app/public/scripts/shared/location-cards.js`: Complete redesign of location KEV modal with picker pattern, added device selection and navigation functions

**Validation**:
- ✅ KEV details modal footer buttons work correctly (View CVE Details, Close)
- ✅ KEV picker modal radio button selection functions properly
- ✅ Color-coded CVE titles display correctly by severity
- ✅ VPR scores appear on right side with proper color coding
- ✅ Back navigation returns to appropriate picker modal
- ✅ Location KEV picker displays devices with horizontal CVE layout
- ✅ View Device Details button opens device modal correctly
- ✅ No modal backdrop issues when transitioning between modals
- ✅ Scrolling works properly for 6+ items
- ✅ No console errors or warnings

**Issues**:
- [HEX-255](https://linear.app/hextrackr/issue/HEX-255) - KEV Modal Enhancements

---

### Changed

- Changed KEV picker modal from button-based list to radio button selection pattern for consistency with backup/restore modals
- Modified KEV details modal footer to conditionally show "Back to Picker" button when opened from picker context
- Updated location KEV modal to use horizontal CVE badge layout instead of vertical stack
- Increased hostname font size to 1.05rem in location KEV picker for better readability
- Changed modal header styling to use `bg-danger text-white` for KEV-themed modals

---

### Fixed

- Fixed modal backdrop issue when transitioning from KEV details to vulnerability details modal
- Resolved modal state management by properly cleaning up backdrops, modal-open class, and body styles
- Corrected navigation flow to return users to picker modal instead of main page when closing KEV details
- Fixed duplicate modal backdrop issue by implementing proper `hidden.bs.modal` event handling with cleanup

---

## Notes

### Performance Improvements

- Reduced user clicks from 3 to 1 when accessing CVE details from KEV picker
- Improved modal transition smoothness with 300ms delay and proper cleanup
- Enhanced UX for locations with 69+ KEV devices through compact horizontal layout

### User Experience

- Consistent radio button selection pattern across all picker modals (KEV, backup/restore)
- Clear visual hierarchy with color-coded CVE IDs and VPR scores
- Intuitive back navigation preserves user context
- Professional modal footer button layout (action left, close right)

---

*Changelog Version: 1.0.93 | Release Date: 2025-10-20*
