# Version 1.0.53

**Release Date**: 2025-10-08

---

## [1.0.53] - 2025-10-08

### Added

#### Vendor Breakdown CSV Export (HEX-148/149/150)

**Feature**: Extended VPR weekly summary CSV export to include vendor-specific breakdown tables for supervisor meeting presentations.

**Usage**: Cmd+Shift+Click (Mac) or Ctrl+Shift+Click (Windows) on any VPR summary card (same keyboard shortcut as HEX-144).

**CSV Structure**:
1. **Overall VPR Totals**: All devices (preserves existing HEX-144 format)
2. **CISCO Devices**: Vulnerabilities on CISCO-classified devices only
3. **Palo Alto Devices**: Vulnerabilities on Palo Alto-classified devices only
4. **Other Devices**: Remaining vulnerabilities (unmatched or alternative vendors)

Each table includes:
- **PREV WEEK**: Previous period VPR totals (calculated from percentage change badges)
- **THIS WEEK**: Current period VPR totals by severity (Critical, High, Medium, Low)
- **CHANGE**: Difference between current and previous periods
- **TOTAL**: Row sum across all severity levels

**Filename**: `vpr-vendor-breakdown-YYYY-MM-DD.csv`

**Validation**: Subtable totals (CISCO + Palo Alto + Other) sum to Overall totals across all severities.

**Use Case**: Weekly supervisor meetings requiring vendor-specific vulnerability metrics for presentation materials. Export CSV, copy vendor-specific tables into slide deck.

**Implementation Highlights**:
- **Critical Bug Fix**: Implemented deduplication logic to prevent over-counting VPR scores when same CVE appears on multiple devices
- **Deduplication Strategy**: Uses composite key `severity|hostname|plugin_id` with MAX(vpr_score) aggregation matching backend stats API
- **Impact**: Fixed potential 15.7x inflation in vendor totals (e.g., CISCO would have shown 88,408.6 instead of correct 5,630.2)
- **Vendor Classification**: Uses pre-normalized `vendor` field from CSV import (helpers.js:normalizeVendor)
- **Data Access**: `this.dataManager.vulnerabilities` (in-memory dataset)
- **Performance**: O(n) aggregation with Map-based deduplication over vulnerability dataset

**Files Modified**:
- `app/public/scripts/shared/vulnerability-statistics.js`: Added `_aggregateVprByVendor()`, `_formatVendorTable()`, extended `exportVprWeeklySummary()`, enhanced `downloadCSV()` to support string-based CSV content

**Issues**:
- [HEX-148](https://linear.app/hextrackr/issue/HEX-148) - RESEARCH: Vendor Breakdown CSV Export
- [HEX-149](https://linear.app/hextrackr/issue/HEX-149) - PLAN: Add Vendor Breakdown to CSV Export
- [HEX-150](https://linear.app/hextrackr/issue/HEX-150) - IMPLEMENT: Vendor Breakdown CSV Export