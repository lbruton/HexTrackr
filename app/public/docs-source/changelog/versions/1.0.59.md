# Version 1.0.59

---

## [1.0.59] - 2025-10-09

### Fixed

#### Documentation Portal Settings Modal Transparency (HEX-165)

**Overview**: Fixed critical transparency issue in the Documentation Portal's settings modal where the modal appeared completely transparent in dark mode, making it unusable. The root cause was missing CSS dependencies that were present in other pages.

**Problem**:
- Documentation portal settings modal had completely transparent background in dark mode
- Modal content was unreadable due to `rgba(0, 0, 0, 0)` background
- Other pages (vulnerabilities.html, tickets.html) had proper modal styling
- CSS dependency chain was broken: `modals.css` referenced CSS variables that weren't defined

**Investigation Process**:
1. Used `mcp__claude-context__search_code` to locate modal implementations
2. Compared CSS loading between working pages and documentation portal
3. Used `mcp__chrome-devtools__take_snapshot` to inspect computed styles
4. Identified missing CSS custom properties (`--hextrackr-modal-bg` undefined)
5. Traced back to missing `css-variables.css` and `modals.css` imports

**Solution Implemented**:

Added two critical CSS files to `/app/public/docs-html/index.html`:

```html
<!-- Line 58-59 -->
<link rel="stylesheet" href="../styles/css-variables.css">
<link rel="stylesheet" href="../styles/shared/modals.css">
```

**Technical Details**:

The documentation portal lives in a subdirectory (`/docs-html/`), requiring the `../styles/` path prefix to traverse up one level. The modular CSS architecture requires:

1. **Foundation Layer**: `css-variables.css` defines custom properties
   - `--hextrackr-modal-bg`
   - `--hextrackr-text`
   - Theme-aware color tokens

2. **Component Layer**: `modals.css` uses these variables
   ```css
   [data-bs-theme="dark"] .modal-content {
       background: var(--hextrackr-modal-bg);
       color: var(--hextrackr-text);
   }
   ```

Without the foundation layer, variables resolve to empty strings, causing transparent backgrounds.

**Verification**:

**Dark Mode** ✅
- Modal background: `rgb(26, 34, 52)` - proper dark theme color
- All card backgrounds: solid, readable
- No transparency issues

**Light Mode** ✅
- Modal background: `rgb(255, 255, 255)` - solid white
- No regression detected
- Theme switching works correctly

**Design Philosophy**:
- Maintain consistent CSS imports across all pages
- Failed dependencies should be caught during development
- Path resolution must account for directory structure
- Silent CSS failures (undefined variables) need better detection

**Result**:
- Documentation portal settings modal fully functional in both themes
- Visual consistency maintained across all application pages
- Proper theme inheritance restored
- CSS dependency chain complete and verified

---

**Files Modified**:
- `app/public/docs-html/index.html` - Added missing CSS imports (lines 58-59)

**Issues**:
- [HEX-165](https://linear.app/hextrackr/issue/HEX-165) - Documentation Portal Settings Modal transparency issue

---

**Version**: 1.0.59
**Last Updated**: 2025-10-09
