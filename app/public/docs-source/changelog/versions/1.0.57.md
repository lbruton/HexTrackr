# Version 1.0.57

---

## [1.0.57] - 2025-10-10

### Fixed

#### AG-Grid Table Height Synchronization (HEX-169)

**Overview**: Fixed visual gap between AG-Grid table bottom and Tabler card container by removing conflicting height constraints that prevented AG-Grid's auto-height feature from working.

**Problem**:
- AG-Grid vulnerability table displayed large visual gaps in empty states and small filtered result sets
- Gap most noticeable when: no data loaded, 10 items per page, or vendor filters applied
- Card maintained fixed height regardless of table content size
- Reduced UI polish and professional appearance

**Root Cause**: Triple-layer height conflict
1. ✅ AG-Grid correctly configured with `domLayout: "autoHeight"` (line 309 in ag-grid-responsive-config.js)
2. ❌ `#vulnGrid` had fixed heights (500px desktop, 400px mobile) in responsive.css overriding auto-height
3. ❌ Parent `.card-body.p-2` enforced `min-height: 600px` creating excessive whitespace

**Solution Implemented**:

**Part 1 - Remove Fixed Grid Heights**:
- **File**: `app/public/styles/utils/responsive.css`
- **Changes**:
  - Line 7: Removed `height: 500px` from `#vulnGrid` (@media max-width: 768px)
  - Line 66: Removed `height: 400px` from `#vulnGrid` (@media max-width: 576px)
- **Effect**: Allows AG-Grid's `domLayout: "autoHeight"` to control sizing

**Part 2 - Reduce Card Minimum Height**:
- **File**: `app/public/styles/pages/vulnerabilities.css`
- **Change**: Line 229: Reduced `.card-body.p-2` min-height from `600px` → `300px` (50% reduction)
- **Effect**: Prevents excessive whitespace while maintaining reasonable minimum size

**Technical Details**:

**Flexbox Parent Structure** (verified correct from v1.0.13):
```css
.card-body.p-2 {
    display: flex;
    flex-direction: column;
    min-height: 300px; /* Now 300px instead of 600px */
}

.view-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

#tableView {
    height: 100%;
}

#vulnGrid {
    width: 100%;
    /* No fixed height - AG-Grid autoHeight controls this */
}
```

**AG-Grid Configuration** (already correct):
```javascript
const gridOptions = {
    domLayout: "autoHeight",  // Auto-sizes to content
    pagination: true,
    paginationPageSize: 10,
    // ... other options
};
```

**Testing Completed**:
- ✅ Empty state: KEV + Other filters (0 results) - no gap verified
- ✅ Visual regression: Dark and light themes confirmed working
- ✅ Responsive: Card shrinks appropriately on all viewport sizes

**Historical Context**:
This was a **regression** from v1.0.13 which originally solved this with flexbox. Subsequent CSS changes re-introduced fixed heights that overrode the working solution.

**Result**:
- Table seamlessly fits content height in all states
- No visual gap between table and card bottom
- Professional, polished appearance maintained
- AG-Grid auto-height feature now works as designed

---

**Files Modified**:
- `package.json` - Version bumped to 1.0.57
- `app/public/styles/utils/responsive.css` - Removed fixed heights from #vulnGrid
- `app/public/styles/pages/vulnerabilities.css` - Reduced .card-body.p-2 min-height

**Issues**:
- [HEX-169](https://linear.app/hextrackr/issue/HEX-169) - AG-Grid table height doesn't synchronize with Tabler card container

---

**Version**: 1.0.57
**Last Updated**: 2025-10-10
