# ðŸŽ¯ UNIVERSAL AGENT SYSTEM PROMPT

**Version:** 2.0.0  
**Generated:** August 20, 2025  
**Purpose:** Master reference for ALL AI agents in rEngine ecosystem

## ðŸš¨ MANDATORY AGENT BOOTSTRAP SEQUENCE

### **STEP 1: System Matrix Loading (REQUIRED)**

```
Load: rProtocols/system_matrix.json
Purpose: Complete system reference and health checks
Status: Auto-updated with every protocol change
```

### **STEP 2: Protocol Stack Verification (REQUIRED)**

```
Load: rProtocols/protocols.json  
Purpose: Current protocol execution order and status
Protocols: 23 active protocols in 6 execution tiers
```

### **STEP 3: MCP Tools Availability Check (REQUIRED)**

```
Server: rEngine MCP (configured in .vscode/settings.json)
Status: Active via github.copilot.chat.mcpServers
Tools: Enhanced memory sync, protocol management, system operations
```

### **STEP 4: Memory System Health (REQUIRED)**

```
Location: rMemory/rAgentMemories/
Thresholds: handoff.json/tasks.json (<6h), memory.json (<1h)
Auto-sync: Enhanced memory sync with write-through policy active
```

---

## ðŸŽ¯ AGENT EXECUTION MATRIX

### **TIER 1: FOUNDATION (Execute First)**

1. **Memory Management** â†’ Verify dual memory architecture active
2. **rEngine Startup** â†’ Confirm core services operational  
3. **Enhanced Scribe** â†’ Check continuous monitoring active

### **TIER 2: COORDINATION (Execute Second)**  

1. **Session Handoff** â†’ Load active handoff context
2. **Rapid Context Recall** â†’ Verify memory search functional
3. **Recall Prime Directive** â†’ Confirm memory integrity

### **TIER 3: OPERATIONS (Execute Third)**

1. **Document Sweep** â†’ Auto-documentation procedures
2. **Documentation Structure** â†’ Directory organization standards
3. **File Cleanup** â†’ Safe file management protocols

### **TIER 4: INTELLIGENCE (Execute Fourth)**

1. **AI Enhancement** â†’ Multi-provider optimization
2. **Tools Registry** â†’ MCP tool management
3. **Document Scribe** â†’ Unified documentation system

### **TIER 5: SPECIALIZED (Execute Fifth)**

1. **Document Publication** â†’ Output formatting standards
2. **Patch Notes** â†’ Change documentation procedures
3. **Directory Cleanup** â†’ Advanced file organization

---

## ðŸŽ¯ AGENT RESPONSIBILITIES

### **CRITICAL (Every Agent Must)**

- âœ… **Protocol Compliance**: Check protocols before any major action
- âœ… **Memory Freshness**: Verify files are current (<6h threshold)
- âœ… **MCP Integration**: Use available tools when applicable
- âœ… **Handoff Procedures**: Document significant work for continuity

### **OPERATIONAL (Standard Practice)**

- âœ… **Clean Structure**: Maintain organized directory hierarchy
- âœ… **Documentation**: Record important changes in memory system
- âœ… **Error Handling**: Follow established fallback procedures
- âœ… **System Health**: Monitor and report status issues

---

## ðŸŽ¯ SYSTEM HEALTH VERIFICATION

### **Quick Health Check Commands**

```bash

# Memory system freshness

node rEngine/enhanced-memory-sync.js

# Protocol registry status  

node rEngine/protocol-registry-manager.js

# System recall functionality

node rEngine/recall.js "system status"
```

### **Critical File Locations**

```
ðŸ“„ System Matrix: rProtocols/system_matrix.json
ðŸ“‹ Protocol Index: rProtocols/protocols.json  
ðŸ”§ Tools Registry: rProtocols/ai_tools_registry.json
ðŸ§  Memory System: rMemory/rAgentMemories/
âš™ï¸  MCP Server: rEngine/index.js
ðŸš€ Bootstrap: COPILOT_INSTRUCTIONS.md
```

---

## ðŸŽ¯ AGENT DECISION TREE

### **When Starting New Session:**

1. Load system_matrix.json â†’ Get complete system state
2. Check protocols.json â†’ Verify protocol execution order
3. Verify MCP tools â†’ Confirm enhanced capabilities available
4. Check memory freshness â†’ Ensure current context
5. Load handoff context â†’ Resume previous work if applicable

### **When Encountering Issues:**

1. Check protocol compliance â†’ Reference rProtocols/
2. Verify system health â†’ Run health check commands
3. Check memory sync status â†’ Ensure files are current
4. Review error protocols â†’ Follow established procedures
5. Document resolution â†’ Update memory system

### **When Making Changes:**

1. Follow relevant protocols â†’ Check execution tier requirements
2. Use MCP tools when available â†’ Leverage enhanced capabilities
3. Update memory system â†’ Maintain continuity for next agent
4. Document significant changes â†’ Ensure handoff completeness
5. Verify system health â†’ Confirm no negative impacts

---

## ðŸŽ¯ EMERGENCY PROCEDURES

### **If Protocols Missing/Corrupted:**

1. Check archive/protocols-cleanup-* for backups
2. Reference git history for recovery
3. Use minimal safe operations until restored

### **If Memory System Stale:**

1. Run: `node rEngine/enhanced-memory-sync.js`
2. Check: memory file freshness validation
3. Force sync if needed with write-through policy

### **If MCP Tools Unavailable:**

1. Check: .vscode/settings.json configuration
2. Verify: rEngine/index.js server status
3. Fallback: Use direct file operations with extra caution

---

## ðŸŽ¯ SUCCESS METRICS

### **Agent Effectiveness Indicators:**

- âœ… **Protocol Compliance**: All actions follow established procedures
- âœ… **Memory Currency**: Files always fresh and synchronized  
- âœ… **Tool Utilization**: MCP capabilities used when available
- âœ… **Documentation Quality**: Clear handoffs and status updates
- âœ… **System Health**: No degradation from agent actions

### **System Optimization Indicators:**

- âœ… **Reduced Redundancy**: No duplicate effort across agents
- âœ… **Enhanced Continuity**: Smooth handoffs between sessions
- âœ… **Improved Efficiency**: Faster problem resolution
- âœ… **Better Organization**: Maintained clean structure
- âœ… **Proactive Maintenance**: Issues caught and resolved early

---

**ðŸŽ¯ REMEMBER: This system is designed for EXCELLENCE. Every agent has instant access to complete system knowledge through the matrix. Use it!**
